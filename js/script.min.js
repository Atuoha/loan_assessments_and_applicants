'use strict';$(document).ready(function(){let g=0;$("#process-btn").click(function(){$(".main-section").css("display","none");$(".preloader").css("display","block");setTimeout(()=>{window.location.replace("assessment.html")},3E3)});$(".cancel").click(function(){window.location.replace("index.html")});$("#manage-btn").click(function(){window.location.replace("loan.html")});$(".next").click(function(){let a=$(this).attr("id");"assess-1"==a?($(".assess-1").css("display","none"),$(".assess-2").css("display",
"block"),$(".assess-3").css("display","none"),$(".assess-4").css("display","none"),$(".assess-5").css("display","none")):"assess-2"==a?($(".assess-1").css("display","none"),$(".assess-2").css("display","none"),$(".assess-3").css("display","block"),$(".assess-4").css("display","none"),$(".assess-5").css("display","none")):"assess-3"==a?($(".assess-1").css("display","none"),$(".assess-2").css("display","none"),$(".assess-3").css("display","none"),$(".assess-4").css("display","block"),$(".assess-5").css("display",
"none")):"assess-4"==a&&($(".assess-1").css("display","none"),$(".assess-2").css("display","none"),$(".assess-3").css("display","none"),$(".assess-4").css("display","none"),$(".assess-5").css("display","block"))});$(".previous").click(function(){let a=$(this).attr("id");"assess-2"==a?($(".assess-1").css("display","block"),$(".assess-2").css("display","none"),$(".assess-3").css("display","none"),$(".assess-4").css("display","none"),$(".assess-5").css("display","none")):"assess-3"==a?($(".assess-1").css("display",
"none"),$(".assess-2").css("display","block"),$(".assess-3").css("display","none"),$(".assess-4").css("display","none"),$(".assess-5").css("display","none")):"assess-4"==a?($(".assess-1").css("display","none"),$(".assess-2").css("display","none"),$(".assess-3").css("display","block"),$(".assess-4").css("display","none"),$(".assess-5").css("display","none")):"assess-5"==a&&($(".assess-1").css("display","none"),$(".assess-2").css("display","none"),$(".assess-3").css("display","none"),$(".assess-4").css("display",
"block"),$(".assess-5").css("display","none"))});$(".checkbox").click(function(a){this.checked&&(a=parseInt($(this).attr("id")),g+=a)});$("#submit").click(function(){$(".main-section").css("display","none");$(".question-board").css("display","none");$(".preloader").css("display","block");console.log(g);setTimeout(()=>{50>g?(swal({title:"Loan Denied",text:`Opps! You scored ${g}, loan application is denied`,icon:"error",timer:5E3,closeOnClickOutside:!1}),setTimeout(()=>{window.location.replace("index.html")},
5100),$(".preloader").css("display","none"),$(".failure").css("display","block")):(swal({title:"Loan Approved",text:`Kudos! You scored ${g}, loan application is approved`,icon:"success",timer:5E3,closeOnClickOutside:!1}),setTimeout(()=>{$(".answers").fadeOut("slow");$(".loan_application").fadeIn("slow")},5100),$(".preloader").css("display","none"),$(".success").css("display","block"))},3E3)});let t=`${Math.floor(1E8*Math.random())}loan`;$("#random_number").val(t);$("#apply-form").submit(function(a){a.preventDefault();
a=$(this).serializeArray();console.log(a);let c;c=null===localStorage.getItem("loans")?[]:JSON.parse(localStorage.getItem("loans"));$("#credentials_inpFile").val();$("#inpFile").val();c.push(a);localStorage.setItem("loans",JSON.stringify(c));swal({title:"Application Submitted",text:"Your loan application has been submitted. Wait for our response.",icon:"success",timer:5E3,closeOnClickOutside:!1});setTimeout(()=>{window.location.replace("index.html")},1E4)});$("#login-form").submit(function(a){a.preventDefault();
a=$("#email").val();let c=$("#password").val();"admin@gmail.com"===a&&"00000"===c?(swal({title:"Access Granted",text:"Your access to the loan applications has been granted. Wait for a redirect.",icon:"success",timer:5E3,closeOnClickOutside:!1}),setTimeout(()=>{$("#login").fadeOut("slow");$(".loan_data").fadeIn("slow")},5200)):(swal({title:"Access Denied",text:"Your access to the loan applications has been denied. Unrecognised credentials.",icon:"error",timer:5E3,closeOnClickOutside:!1}),$("#email").val(""),
$("#password").val(""))});const h=()=>{let a=$("#loan_record");if(null==localStorage.getItem("loans")){var c=[];c=document.createElement("p");c.innerHTML="No Record Found";c.className="lead alert alert-danger p-5 text-center";a.append(c);console.log("No Record Found")}else c=JSON.parse(localStorage.getItem("loans")),c.forEach(b=>{const d=document.createElement("td"),f=document.createElement("td"),k=document.createElement("td"),l=document.createElement("td"),m=document.createElement("td"),n=document.createElement("td"),
p=document.createElement("td"),q=document.createElement("td"),r=document.createElement("td"),e=document.createElement("tr");let u=document.createElement("a"),v=document.createElement("a");u.textContent="Unapproved"==b[6].value?"Approve":"Unapprove";v.textContent="Delete";d.innerHTML=b[0].value;f.innerHTML=b[1].value;k.innerHTML=b[2].value;l.innerHTML=b[3].value;m.innerHTML=`N${b[4].value}`;n.innerHTML=b[5].value;p.innerHTML=b[6].value;q.innerHTML="Unapproved"==b[6].value?`<a href="javascript:void(0)" rel="Approve" style="color: green;  text-decoration: none;" id=${b[0].value} class="app_status">Approve</a>`:
`<a href="javascript:void(0)" rel="Unapprove" style="color: brown; text-decoration: none;" id=${b[0].value} class="app_status">Unapprove</a>`;r.innerHTML=`<a href="javascript:void(0)"  style="color: red;  text-decoration: none;" id=${b[0].value} class="del_record">Delete</a>`;e.appendChild(d);e.appendChild(f);e.appendChild(k);e.appendChild(l);e.appendChild(m);e.appendChild(n);e.appendChild(p);e.appendChild(q);e.appendChild(r);a.append(e)}),console.log("Record Found")};h();$(".del_record").click(function(a){a.preventDefault();
let c=$(this).attr("id");console.log(c);let b=JSON.parse(localStorage.getItem("loans"));b.forEach(function(d,f){d[0].value===c&&(b.splice(f,1),console.log(d))});swal({title:"Deleted Loan",text:"Application has been successfully deleted",icon:"success",timer:1500,closeOnClickOutside:!1});$("#loan_record").load(location.href+" #loan_record");setTimeout(()=>{localStorage.setItem("loans",JSON.stringify(b));h()},1600)});$(".app_status").click(function(a){a.preventDefault();let c=$(this).attr("id");console.log(c);
a=$(this).attr("rel");let b=JSON.parse(localStorage.getItem("loans"));console.log(a);"Approve"==a?b.forEach(function(d,f){d[0].value===c&&(d[6].value="Approved",b.splice(f,1),b.push(d),localStorage.setItem("loans",JSON.stringify(b)),console.log(d))}):b.forEach(function(d,f){d[0].value===c&&(d[6].value="Unapproved",b.splice(f,1),b.push(d),localStorage.setItem("loans",JSON.stringify(b)),console.log(d))});swal({title:"Operation Performed",text:"Application has been successfully updated",icon:"success",
timer:1500,closeOnClickOutside:!1});$("#loan_record").load(location.href+" #loan_record");setTimeout(()=>{h();$("#login").fadeOut("slow");$(".loan_data").fadeIn("slow")},1500)});$(".file_upload").click(function(){$("#inpFile").click();setInterval(()=>{""===$("#inpFile").val()?$("#col_icon").css("display","none"):($("#col_icon").css("display","block"),$(".file_upload").css("display","none"),$("#collatorial_input").val($("#inpFile").val()))},500)});$(".yes_collatoral").click(function(){this.checked?
$(".file_upload").css("display","block"):$(".file_upload").css("display","none")});$(".credentials_upload").click(function(){this.checked?$(".credentials_file_btn").css("display","block"):$(".credentials_file_btn").css("display","none")});$(".credentials_file_btn").click(function(){$("#credentials_inpFile").click();setInterval(()=>{""===$("#credentials_inpFile").val()?$("#cred_icon").css("display","none"):($("#cred_icon").css("display","block"),$(".credentials_file_btn").css("display","none"),$("#credentials_input").val($("#credentials_inpFile").val()))},
500)});$(".checkbox1").click(function(){this.checked&&$(".checkbox1").not(this).each(function(){$(this.checked=!1)})});$(".checkbox2").click(function(){this.checked&&$(".checkbox2").not(this).each(function(){$(this.checked=!1)})});$(".checkbox3").click(function(){this.checked&&$(".checkbox3").not(this).each(function(){$(this.checked=!1)})});$(".checkbox4").click(function(){this.checked&&$(".checkbox4").not(this).each(function(){$(this.checked=!1)})});$(".checkboxnone").click(function(){this.checked&&
$(".credentials_upload").not(this).each(function(){$(this.checked=!1);$(".credentials_file_btn").css("display","none")})});$(".credentials_upload").click(function(){this.checked&&$(".checkboxnone").not(this).each(function(){$(this.checked=!1)})});$(".checkboxNo").click(function(){this.checked&&$(".file_upload").css("display","none")})});